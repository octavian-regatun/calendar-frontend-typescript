{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useUserState } from '@/lib/store';\n\nvar Auth = function Auth(_ref) {\n  _s();\n\n  var children = _ref.children;\n  var updateUser = useUserState(function (state) {\n    return state.updateUser;\n  });\n  var user = useUserState(function (state) {\n    return state.user;\n  }); // useEffect(() => {\n  //   (async () => {\n  //     if (isTokenInLocalStorage()) {\n  //       const jwt = getJwtPayloadFromToken() as JwtPayload;\n  //       if (!isJwtExpired(jwt)) {\n  //         const token = localStorage.getItem('token') as string;\n  //         axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  //         await updateUser();\n  //       }\n  //     }\n  //   })();\n  // }, []);\n\n  console.log(user);\n  return children;\n};\n\n_s(Auth, \"jXBhH/ZV20IAtXzA6s7dqVqjZYY=\", false, function () {\n  return [useUserState, useUserState];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["C:/Users/Octavian/Desktop/Dev/planitly-frontend/src/components/Auth.tsx"],"names":["useUserState","Auth","children","updateUser","state","user","console","log"],"mappings":";;AAMA,SAASA,YAAT,QAA6B,aAA7B;;AAQA,IAAMC,IAAqB,GAAG,SAAxBA,IAAwB,OAAkB;AAAA;;AAAA,MAAfC,QAAe,QAAfA,QAAe;AAC9C,MAAMC,UAAU,GAAGH,YAAY,CAAC,UAAAI,KAAK;AAAA,WAAIA,KAAK,CAACD,UAAV;AAAA,GAAN,CAA/B;AACA,MAAME,IAAI,GAAGL,YAAY,CAAC,UAAAI,KAAK;AAAA,WAAIA,KAAK,CAACC,IAAV;AAAA,GAAN,CAAzB,CAF8C,CAI9C;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAEA,SAAOH,QAAP;AACD,CAtBD;;GAAMD,I;UACeD,Y,EACNA,Y;;;KAFTC,I;AAwBN,eAAeA,IAAf","sourcesContent":["import JwtPayload from '@/interfaces/jwtPayload';\nimport {\n  getJwtPayloadFromToken,\n  isJwtExpired,\n  isTokenInLocalStorage,\n} from '@/lib/jwt';\nimport { useUserState } from '@/lib/store';\nimport axios from 'axios';\nimport { useEffect } from 'react';\n\ninterface Props {\n  children: JSX.Element;\n}\n\nconst Auth: React.FC<Props> = ({ children }) => {\n  const updateUser = useUserState(state => state.updateUser);\n  const user = useUserState(state => state.user);\n\n  // useEffect(() => {\n  //   (async () => {\n  //     if (isTokenInLocalStorage()) {\n  //       const jwt = getJwtPayloadFromToken() as JwtPayload;\n  //       if (!isJwtExpired(jwt)) {\n  //         const token = localStorage.getItem('token') as string;\n\n  //         axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n\n  //         await updateUser();\n  //       }\n  //     }\n  //   })();\n  // }, []);\n\n  console.log(user);\n\n  return children;\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}